CREATE DATABASE IF NOT EXISTS `college_db`;
USE college_db;


-- Users table for login (Part A)
CREATE TABLE IF NOT EXISTS users (
id INT AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(50) NOT NULL UNIQUE,
password VARCHAR(100) NOT NULL,
fullname VARCHAR(100)
);


INSERT INTO users (username, password, fullname) VALUES
('admin','admin123','Administrator'),
('user1','pass1','User One');


-- Employees table (Part B)
CREATE TABLE IF NOT EXISTS employees (
emp_id INT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(100) NOT NULL,
department VARCHAR(50),
email VARCHAR(100),
salary DECIMAL(10,2)
);


INSERT INTO employees (name, department, email, salary) VALUES
('Alice Smith','HR','alice@example.com',45000),
('Bob Johnson','Sales','bob@example.com',52000),
('Carol White','IT','carol@example.com',60000);


-- Students and attendance (Part C)
CREATE TABLE IF NOT EXISTS students (
student_id INT AUTO_INCREMENT PRIMARY KEY,
name VARCHAR(100) NOT NULL,
roll_no VARCHAR(20) UNIQUE
);


INSERT INTO students (name, roll_no) VALUES
('Ravi Kumar','20CS01'),
('Neha Singh','20CS02'),
('Aman Patel','20CS03');


CREATE TABLE IF NOT EXISTS attendance (
id INT AUTO_INCREMENT PRIMARY KEY,
student_id INT NOT NULL,
attend_date DATE NOT NULL,
status ENUM('P','A') NOT NULL,
FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE
);


-- add one day's attendance example
INSERT INTO attendance (student_id, attend_date, status) VALUES
(1, CURDATE(), 'P'),
(2, CURDATE(), 'A'),
(3, CURDATE(), 'P');
